# Vim æ¨¡å¼

Zed åŒ…å«ä¸€ä¸ªç§°ä¸º "vim æ¨¡å¼" çš„ Vim æ¨¡æ‹Ÿå±‚ã€‚åœ¨æœ¬é¡µä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•æ‰“å¼€æˆ–å…³é—­ Zed çš„ vim æ¨¡å¼ï¼ŒZed æä¾›äº†å“ªäº›å·¥å…·å’Œå‘½ä»¤æ¥å¸®åŠ©ä½ å¯¼èˆªå’Œç¼–è¾‘ä»£ç ï¼Œä»¥åŠå¦‚ä½•åœ¨ Zed ä¸­å……åˆ†åˆ©ç”¨ vim æ¨¡å¼ã€‚

ä½ å°†å­¦ä¹ å¦‚ä½•ï¼š

- ç†è§£ Zed çš„ vim æ¨¡å¼ä¸ä¼ ç»Ÿ Vim ä¹‹é—´çš„æ ¸å¿ƒå·®å¼‚
- å¯ç”¨æˆ–ç¦ç”¨ vim æ¨¡å¼
- åœ¨ vim æ¨¡å¼ä¸­å……åˆ†åˆ©ç”¨ Zed ç‰¹å®šåŠŸèƒ½
- è‡ªå®šä¹‰ vim æ¨¡å¼é”®ç»‘å®š
- é…ç½® vim æ¨¡å¼è®¾ç½®

æ— è®ºä½ æ˜¯ vim æ¨¡å¼çš„æ–°æ‰‹è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„ Vim ç”¨æˆ·ï¼Œå¸Œæœ›ä¼˜åŒ–ä½ çš„ Zed ä½“éªŒï¼Œæœ¬æŒ‡å—éƒ½å°†å¸®åŠ©ä½ å……åˆ†åˆ©ç”¨ Zed ä¸­çš„æ¨¡æ€ç¼–è¾‘åŠŸèƒ½ã€‚

## Zed çš„ vim æ¨¡å¼è®¾è®¡

Vim æ¨¡å¼è¯•å›¾ä¸º Vim ç”¨æˆ·æä¾›ç†Ÿæ‚‰çš„ä½“éªŒï¼šå®ƒåœ¨æœ‰æ„ä¹‰æ—¶ç²¾ç¡®å¤åˆ¶è¿åŠ¨å’Œå‘½ä»¤çš„è¡Œä¸ºï¼Œå¹¶ä½¿ç”¨ Zed ç‰¹å®šåŠŸèƒ½æ¥æä¾›"å¼€ç®±å³ç”¨"çš„ç¼–è¾‘ä½“éªŒï¼Œæ— éœ€ä½ è¿›è¡Œé…ç½®ã€‚

è¿™åŒ…æ‹¬å¯¹è¯­ä¹‰å¯¼èˆªã€å¤šå…‰æ ‡æˆ–å…¶ä»–é€šå¸¸ç”±æ’ä»¶ï¼ˆå¦‚ç¯ç»•æ–‡æœ¬ï¼‰æä¾›çš„åŠŸèƒ½çš„æ”¯æŒã€‚

å› æ­¤ï¼ŒZed çš„ vim æ¨¡å¼ä¸æ˜¯ä¸€å¯¹ä¸€åœ°å¤åˆ¶ Vimï¼Œè€Œæ˜¯å°† Vim çš„æ¨¡æ€è®¾è®¡ä¸ Zed çš„ç°ä»£åŠŸèƒ½ç›¸ç»“åˆï¼Œä»¥æä¾›æ›´æµç•…çš„ä½“éªŒã€‚å®ƒä¹Ÿæ˜¯å¯é…ç½®çš„ï¼Œå› æ­¤ä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„é”®ç»‘å®šæˆ–è¦†ç›–é»˜è®¤å€¼ã€‚

### æ ¸å¿ƒå·®å¼‚

vim æ¨¡å¼ä¸­æœ‰å››ç§ç±»å‹çš„åŠŸèƒ½ä½¿ç”¨ Zed çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¯¼è‡´è¡Œä¸ºä¸Šçš„ä¸€äº›å·®å¼‚ï¼š

1. **è¿åŠ¨**ï¼švim æ¨¡å¼ä½¿ç”¨ Zed çš„è¯­ä¹‰è§£ææ¥è°ƒæ•´æ¯ç§è¯­è¨€çš„è¿åŠ¨è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œåœ¨ Rust ä¸­ï¼Œä½¿ç”¨ `%` è·³è½¬åˆ°åŒ¹é…æ‹¬å·é€‚ç”¨äºç®¡é“å­—ç¬¦ `|`ã€‚åœ¨ JavaScript ä¸­ï¼Œ`w` å°† `$` è§†ä¸ºå•è¯å­—ç¬¦ã€‚
2. **å¯è§†å—é€‰æ‹©**ï¼švim æ¨¡å¼ä½¿ç”¨ Zed çš„å¤šå…‰æ ‡æ¥æ¨¡æ‹Ÿå¯è§†å—é€‰æ‹©ï¼Œä½¿å—é€‰æ‹©æ›´åŠ çµæ´»ã€‚ä¾‹å¦‚ï¼Œä½ åœ¨å—é€‰æ‹©åæ’å…¥çš„ä»»ä½•å†…å®¹éƒ½ä¼šå®æ—¶æ›´æ–°åˆ°æ¯ä¸€è¡Œï¼Œå¹¶ä¸”ä½ å¯ä»¥éšæ—¶æ·»åŠ æˆ–åˆ é™¤å…‰æ ‡ã€‚
3. **å®**ï¼švim æ¨¡å¼ä½¿ç”¨ Zed çš„å½•åˆ¶ç³»ç»Ÿæ¥å¤„ç† vim å®ã€‚å› æ­¤ï¼Œä½ å¯ä»¥æ•è·å’Œé‡æ”¾æ›´å¤æ‚çš„æ“ä½œï¼Œå¦‚è‡ªåŠ¨å®Œæˆã€‚
4. **æœç´¢å’Œæ›¿æ¢**ï¼švim æ¨¡å¼ä½¿ç”¨ Zed çš„æœç´¢ç³»ç»Ÿï¼Œå› æ­¤æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ä¸ Vim ç•¥æœ‰ä¸åŒã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·[å‰å¾€æ­£åˆ™è¡¨è¾¾å¼å·®å¼‚éƒ¨åˆ†](#regex-differences)ã€‚

> **æ³¨æ„ï¼š** Zed çš„ vim æ¨¡å¼åŸºç¡€åº”è¯¥å·²ç»æ¶µç›–äº†è®¸å¤šç”¨ä¾‹ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨åŠªåŠ›æ”¹è¿›å®ƒã€‚å¦‚æœä½ å‘ç°å·¥ä½œæµä¸­ä¾èµ–çš„åŠŸèƒ½ç¼ºå¤±ï¼Œè¯·[åœ¨ GitHub ä¸Šæäº¤é—®é¢˜](https://github.com/zed-industries/zed/issues)ã€‚

## å¯ç”¨å’Œç¦ç”¨ vim æ¨¡å¼

å½“ä½ ç¬¬ä¸€æ¬¡æ‰“å¼€ Zed æ—¶ï¼Œä½ ä¼šåœ¨æ¬¢è¿å±å¹•ä¸Šçœ‹åˆ°ä¸€ä¸ªå¤é€‰æ¡†ï¼Œå…è®¸ä½ å¯ç”¨ vim æ¨¡å¼ã€‚

å¦‚æœä½ é”™è¿‡äº†è¿™ä¸ªï¼Œä½ å¯ä»¥éšæ—¶é€šè¿‡æ‰“å¼€å‘½ä»¤é¢æ¿å¹¶ä½¿ç”¨å·¥ä½œåŒºå‘½ä»¤ `toggle vim mode` æ¥åˆ‡æ¢ vim æ¨¡å¼çš„å¼€å…³ã€‚

> **æ³¨æ„**ï¼šæ­¤å‘½ä»¤åœ¨ä½ çš„ç”¨æˆ·è®¾ç½®ä¸­åˆ‡æ¢ä»¥ä¸‹å±æ€§ï¼š
>
> ```json [settings]
> {
>   "vim_mode": true
> }
> ```

## Zed ç‰¹å®šåŠŸèƒ½

Zed å»ºç«‹åœ¨ç°ä»£åŸºç¡€ä¹‹ä¸Šï¼Œå®ƒï¼ˆé™¤å…¶ä»–å¤–ï¼‰ä½¿ç”¨ Tree-sitter å’Œè¯­è¨€æœåŠ¡å™¨æ¥ç†è§£ä½ æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶å†…å®¹ï¼Œå¹¶å¼€ç®±å³ç”¨åœ°æ”¯æŒå¤šå…‰æ ‡ã€‚

Vim æ¨¡å¼æœ‰å‡ ä¸ª"æ ¸å¿ƒ Zed"é”®ç»‘å®šï¼Œå°†å¸®åŠ©ä½ å……åˆ†åˆ©ç”¨ Zed çš„ç‰¹å®šåŠŸèƒ½é›†ã€‚

### è¯­è¨€æœåŠ¡å™¨

ä»¥ä¸‹å‘½ä»¤ä½¿ç”¨è¯­è¨€æœåŠ¡å™¨æ¥å¸®åŠ©ä½ å¯¼èˆªå’Œé‡æ„ä»£ç ã€‚

| å‘½ä»¤                                  | é»˜è®¤å¿«æ·é”® |
| ---------------------------------------- | ---------------- |
| è½¬åˆ°å®šä¹‰                         | `g d`            |
| è½¬åˆ°å£°æ˜                        | `g D`            |
| è½¬åˆ°ç±»å‹å®šä¹‰                    | `g y`            |
| è½¬åˆ°å®ç°                     | `g I`            |
| é‡å‘½åï¼ˆæ›´æ”¹å®šä¹‰ï¼‰               | `c d`            |
| è½¬åˆ°å½“å‰å•è¯çš„æ‰€æœ‰å¼•ç”¨ | `g A`            |
| åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾ç¬¦å·              | `g s`            |
| åœ¨æ•´ä¸ªé¡¹ç›®ä¸­æŸ¥æ‰¾ç¬¦å·            | `g S`            |
| è½¬åˆ°ä¸‹ä¸€ä¸ªè¯Šæ–­                    | `g ]` æˆ– `] d`   |
| è½¬åˆ°ä¸Šä¸€ä¸ªè¯Šæ–­                | `g [` æˆ– `[ d`   |
| æ˜¾ç¤ºå†…è”é”™è¯¯ï¼ˆæ‚¬åœï¼‰                | `g h`            |
| æ‰“å¼€ä»£ç æ“ä½œèœå•               | `g .`            |

### Git

| å‘½ä»¤                         | é»˜è®¤å¿«æ·é”® |
| ------------------------------- | ---------------- |
| è½¬åˆ°ä¸‹ä¸€ä¸ª git æ›´æ”¹           | `] c`            |
| è½¬åˆ°ä¸Šä¸€ä¸ª git æ›´æ”¹       | `[ c`            |
| å±•å¼€å·®å¼‚ä»£ç å—                | `d o`            |
| åˆ‡æ¢æš‚å­˜                   | `d O`            |
| æš‚å­˜å¹¶ä¸‹ä¸€ä¸ªï¼ˆåœ¨å·®å¼‚è§†å›¾ä¸­ï¼‰   | `d u`            |
| å–æ¶ˆæš‚å­˜å¹¶ä¸‹ä¸€ä¸ªï¼ˆåœ¨å·®å¼‚è§†å›¾ä¸­ï¼‰ | `d U`            |
| æ¢å¤æ›´æ”¹                  | `d p`            |

### Tree-sitter

Tree-sitter æ˜¯ Zed ç”¨æ¥ç†è§£ä»£ç ç»“æ„çš„å¼ºå¤§å·¥å…·ã€‚Zed æä¾›æ”¹å˜å½“å‰å…‰æ ‡ä½ç½®çš„è¿åŠ¨ï¼Œä»¥åŠå¯ç”¨ä½œæ“ä½œç›®æ ‡çš„æ–‡æœ¬å¯¹è±¡ã€‚

| å‘½ä»¤                         | é»˜è®¤å¿«æ·é”®            |
| ------------------------------- | --------------------------- |
| è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ–¹æ³•      | `] m` / `[ m`               |
| è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ–¹æ³•ç»“æŸ  | `] M` / `[ M`               |
| è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªéƒ¨åˆ†     | `] ]` / `[ [`               |
| è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªéƒ¨åˆ†ç»“æŸ | `] [` / `[ ]`               |
| è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ³¨é‡Š     | `] /`, `] *` / `[ /`, `[ *` |
| é€‰æ‹©æ›´å¤§çš„è¯­æ³•èŠ‚ç‚¹     | `[ x`                       |
| é€‰æ‹©æ›´å°çš„è¯­æ³•èŠ‚ç‚¹    | `] x`                       |

| æ–‡æœ¬å¯¹è±¡                                               | é»˜è®¤å¿«æ·é”® |
| ---------------------------------------------------------- | ---------------- |
| å›´ç»•ç±»ã€å®šä¹‰ç­‰                           | `a c`            |
| åœ¨ç±»ã€å®šä¹‰ç­‰å†…éƒ¨                           | `i c`            |
| å›´ç»•å‡½æ•°ã€æ–¹æ³•ç­‰                             | `a f`            |
| åœ¨å‡½æ•°ã€æ–¹æ³•ç­‰å†…éƒ¨                            | `i f`            |
| æ³¨é‡Š                                                  | `g c`            |
| å‚æ•°æˆ–åˆ—è¡¨é¡¹ç­‰                            | `i a`            |
| å‚æ•°æˆ–åˆ—è¡¨é¡¹ç­‰ï¼ˆåŒ…æ‹¬å°¾éšé€—å·ï¼‰ | `a a`            |
| å›´ç»• HTML ç±»æ ‡ç­¾                                    | `a t`            |
| åœ¨ HTML ç±»æ ‡ç­¾å†…éƒ¨                                    | `i t`            |
| å½“å‰ç¼©è¿›çº§åˆ«ï¼Œä»¥åŠå‰åä¸€è¡Œ    | `a I`            |
| å½“å‰ç¼©è¿›çº§åˆ«ï¼Œä»¥åŠå‰ä¸€è¡Œ              | `a i`            |
| å½“å‰ç¼©è¿›çº§åˆ«                                   | `i i`            |

è¯·æ³¨æ„ï¼Œ`[m` ç³»åˆ—è¿åŠ¨çš„ç›®æ ‡å®šä¹‰ä¸ `af` å®šä¹‰çš„è¾¹ç•Œç›¸åŒã€‚`[[` çš„ç›®æ ‡ä¸ `ac` å®šä¹‰çš„ç›®æ ‡ç›¸åŒï¼Œå°½ç®¡å¦‚æœæ²¡æœ‰ç±»ï¼Œåˆ™ä¹Ÿä¼šä½¿ç”¨å‡½æ•°ã€‚ç±»ä¼¼åœ°ï¼Œ`gc` ç”¨äºæŸ¥æ‰¾ `[ /`ã€‚

å‡½æ•°ã€ç±»å’Œæ³¨é‡Šçš„å®šä¹‰æ˜¯è¯­è¨€ç›¸å…³çš„ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  [`textobjects.scm`] æ¥ä¸ºæ‰©å±•æ·»åŠ æ”¯æŒã€‚å‚æ•°å’Œæ ‡ç­¾çš„å®šä¹‰åœ¨ Tree-sitter çº§åˆ«æ“ä½œï¼Œä½†åœ¨è§£ææ ‘ä¸­æŸ¥æ‰¾æŸäº›æ¨¡å¼ï¼Œç›®å‰ä¸èƒ½æŒ‰è¯­è¨€é…ç½®ã€‚

### å¤šå…‰æ ‡

è¿™äº›å‘½ä»¤å¸®åŠ©ä½ åœ¨ Zed ä¸­ç®¡ç†å¤šä¸ªå…‰æ ‡ã€‚

| å‘½ä»¤                                                      | é»˜è®¤å¿«æ·é”® |
| ------------------------------------------------------------ | ---------------- |
| æ·»åŠ é€‰æ‹©å½“å‰å•è¯ä¸‹ä¸€ä¸ªå‰¯æœ¬çš„å…‰æ ‡     | `g l`            |
| æ·»åŠ é€‰æ‹©å½“å‰å•è¯ä¸Šä¸€ä¸ªå‰¯æœ¬çš„å…‰æ ‡ | `g L`            |
| è·³è¿‡æœ€æ–°çš„å•è¯é€‰æ‹©ï¼Œå¹¶æ·»åŠ ä¸‹ä¸€ä¸ª                     | `g >`            |
| è·³è¿‡æœ€æ–°çš„å•è¯é€‰æ‹©ï¼Œå¹¶æ·»åŠ ä¸Šä¸€ä¸ª                 | `g <`            |
| ä¸ºå½“å‰å•è¯çš„æ¯ä¸ªå‰¯æœ¬æ·»åŠ å¯è§†é€‰æ‹©    | `g a`            |

### çª—æ ¼ç®¡ç†

è¿™äº›å‘½ä»¤æ‰“å¼€æ–°çª—æ ¼æˆ–è·³è½¬åˆ°ç‰¹å®šçª—æ ¼ã€‚

| å‘½ä»¤                                    | é»˜è®¤å¿«æ·é”®   |
| ------------------------------------------ | ------------------ |
| æ‰“å¼€é¡¹ç›®èŒƒå›´æœç´¢                 | `g /`              |
| æ‰“å¼€å½“å‰æœç´¢æ‘˜å½•            | `g <space>`        |
| åœ¨æ‹†åˆ†ä¸­æ‰“å¼€å½“å‰æœç´¢æ‘˜å½• | `<ctrl-w> <space>` |
| åœ¨æ‹†åˆ†ä¸­è½¬åˆ°å®šä¹‰                | `<ctrl-w> g d`     |
| åœ¨æ‹†åˆ†ä¸­è½¬åˆ°ç±»å‹å®šä¹‰           | `<ctrl-w> g D`     |

### åœ¨æ’å…¥æ¨¡å¼ä¸­

ä»¥ä¸‹å‘½ä»¤å¸®åŠ©ä½ è°ƒå‡º Zed çš„å®Œæˆèœå•ã€è¯·æ±‚ GitHub Copilot çš„å»ºè®®æˆ–æ‰“å¼€å†…è” AI åŠ©æ‰‹ï¼Œè€Œæ— éœ€ç¦»å¼€æ’å…¥æ¨¡å¼ã€‚

| å‘½ä»¤                                                                      | é»˜è®¤å¿«æ·é”® |
| ---------------------------------------------------------------------------- | ---------------- |
| æ‰“å¼€å®Œæˆèœå•                                                     | `ctrl-x ctrl-o`  |
| è¯·æ±‚ GitHub Copilot å»ºè®®ï¼ˆéœ€è¦é…ç½® GitHub Copilotï¼‰ | `ctrl-x ctrl-c`  |
| æ‰“å¼€å†…è” AI åŠ©æ‰‹ï¼ˆéœ€è¦é…ç½®åŠ©æ‰‹ï¼‰               | `ctrl-x ctrl-a`  |
| æ‰“å¼€ä»£ç æ“ä½œèœå•                                                   | `ctrl-x ctrl-l`  |
| éšè—æ‰€æœ‰å»ºè®®                                                        | `ctrl-x ctrl-z`  |

### æ”¯æŒçš„æ’ä»¶

Zed çš„ vim æ¨¡å¼åŒ…å«ä¸€äº›é€šå¸¸åœ¨ Vim ç”Ÿæ€ç³»ç»Ÿä¸­ç”±éå¸¸æµè¡Œçš„æ’ä»¶æä¾›çš„åŠŸèƒ½ï¼š

- ä½ å¯ä»¥ç”¨ `ys`ï¼ˆyank surroundï¼‰ç¯ç»•æ–‡æœ¬å¯¹è±¡ï¼Œç”¨ `cs` æ›´æ”¹ç¯ç»•ï¼Œç”¨ `ds` åˆ é™¤ç¯ç»•ã€‚
- ä½ å¯ä»¥åœ¨å¯è§†æ¨¡å¼ä¸­ç”¨ `gc` æ³¨é‡Šå’Œå–æ¶ˆæ³¨é‡Šé€‰æ‹©ï¼Œåœ¨æ™®é€šæ¨¡å¼ä¸­ç”¨ `gcc`ã€‚
- é¡¹ç›®é¢æ¿æ”¯æŒè®¸å¤šæ¨¡ä»¿ Vim æ’ä»¶ `netrw` çš„å¿«æ·é”®ï¼šç”¨ `hjkl` å¯¼èˆªï¼Œç”¨ `o` æ‰“å¼€æ–‡ä»¶ï¼Œç”¨ `t` åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€æ–‡ä»¶ç­‰ã€‚
- ä½ å¯ä»¥å‘é”®æ˜ å°„æ·»åŠ é”®ç»‘å®šæ¥å¯¼èˆª "camelCase" åç§°ã€‚[å‰å¾€å¯é€‰é”®ç»‘å®šéƒ¨åˆ†](#optional-key-bindings)äº†è§£å¦‚ä½•æ“ä½œã€‚
- ä½ å¯ä»¥ä½¿ç”¨ `gR` æ‰§è¡Œ [ReplaceWithRegister](https://github.com/vim-scripts/ReplaceWithRegister)ã€‚
- ä½ å¯ä»¥ä½¿ç”¨ `cx` è·å¾— [vim-exchange](https://github.com/tommcdo/vim-exchange) åŠŸèƒ½ã€‚è¯·æ³¨æ„ï¼Œå®ƒåœ¨å¯è§†æ¨¡å¼ä¸­æ²¡æœ‰é»˜è®¤ç»‘å®šï¼Œä½†ä½ å¯ä»¥å‘é”®æ˜ å°„æ·»åŠ ä¸€ä¸ªï¼ˆè¯·å‚é˜…[å¯é€‰é”®ç»‘å®š](#optional-key-bindings)éƒ¨åˆ†ï¼‰ã€‚
- ä½ å¯ä»¥ä½¿ç”¨ [indent wise](https://github.com/jeetsukumaran/vim-indentwise) æ’ä»¶ `[-`ã€`]-`ã€`[+`ã€`]+`ã€`[=`ã€`]=` å¯¼èˆªåˆ°ç›¸å¯¹äºå…‰æ ‡çš„ç¼©è¿›æ·±åº¦ã€‚
- ä½ å¯ä»¥ä½¿ç”¨ AnyQuotes å’Œ AnyBrackets æ–‡æœ¬å¯¹è±¡é€‰æ‹©å¼•å·æ–‡æœ¬å’Œæ‹¬å·æ–‡æœ¬ã€‚Zed è¿˜æä¾› MiniQuotes å’Œ MiniBracketsï¼Œå®ƒä»¬åŸºäº [mini.ai](https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-ai.md) Neovim æ’ä»¶æä¾›æ›¿ä»£é€‰æ‹©è¡Œä¸ºã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹é¢çš„[å¼•å·å’Œæ‹¬å·æ–‡æœ¬å¯¹è±¡](#quote-and-bracket-text-objects)éƒ¨åˆ†ã€‚
- ä½ å¯ä»¥é…ç½® AnyQuotesã€AnyBracketsã€MiniQuotes å’Œ MiniBrackets æ–‡æœ¬å¯¹è±¡ï¼Œä½¿ç”¨ä¸åŒçš„é€‰æ‹©ç­–ç•¥é€‰æ‹©å¼•å·å’Œæ‹¬å·æ–‡æœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹é¢çš„[ä»»æ„æ‹¬å·åŠŸèƒ½](#any-bracket-functionality)éƒ¨åˆ†ã€‚

### ä»»æ„æ‹¬å·åŠŸèƒ½

Zed æä¾›ä¸¤ç§ä¸åŒçš„ç­–ç•¥æ¥é€‰æ‹©è¢«ä»»ä½•å¼•å·æˆ–ä»»ä½•æ‹¬å·åŒ…å›´çš„æ–‡æœ¬ã€‚è¿™äº›æ–‡æœ¬å¯¹è±¡**é»˜è®¤æœªå¯ç”¨**ï¼Œå¿…é¡»åœ¨é”®æ˜ å°„ä¸­é…ç½®æ‰èƒ½ä½¿ç”¨ã€‚

#### åŒ…å«çš„å­—ç¬¦

æ¯ç§æ–‡æœ¬å¯¹è±¡ç±»å‹é€‚ç”¨äºç‰¹å®šå­—ç¬¦ï¼š

| æ–‡æœ¬å¯¹è±¡              | å­—ç¬¦                                                                             |
| ------------------------ | -------------------------------------------------------------------------------------- |
| AnyQuotes/MiniQuotes     | å•å¼•å· (`'`), åŒå¼•å· (`"`), åå¼•å· (`` ` ``)                             |
| AnyBrackets/MiniBrackets | åœ†æ‹¬å· (`()`), æ–¹æ‹¬å· (`[]`), èŠ±æ‹¬å· (`{}`), å°–æ‹¬å· (`<>`) |

"Any" å’Œ "Mini" å˜ä½“éƒ½é€‚ç”¨äºç›¸åŒçš„å­—ç¬¦é›†ï¼Œä½†åœ¨é€‰æ‹©ç­–ç•¥ä¸Šæœ‰æ‰€ä¸åŒã€‚

#### AnyQuotes å’Œ AnyBracketsï¼ˆä¼ ç»Ÿ Vim è¡Œä¸ºï¼‰

è¿™äº›æ–‡æœ¬å¯¹è±¡å®ç°ä¼ ç»Ÿ Vim è¡Œä¸ºï¼š

- **é€‰æ‹©ä¼˜å…ˆçº§**ï¼šé¦–å…ˆæ‰¾åˆ°æœ€å†…å±‚ï¼ˆæœ€è¿‘ï¼‰çš„å¼•å·æˆ–æ‹¬å·
- **å›é€€æœºåˆ¶**ï¼šå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™å›é€€åˆ°å½“å‰è¡Œ
- **åŸºäºå­—ç¬¦çš„åŒ¹é…**ï¼šä»…å…³æ³¨å¼€é—­å­—ç¬¦ï¼Œä¸è€ƒè™‘è¯­æ³•
- **ä¸åŸå§‹ Vim ç›¸ä¼¼**ï¼šAnyBrackets åŒ¹é…åŸå§‹ Vim ä¸­ `ci<`ã€`ci(` ç­‰å‘½ä»¤çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬æ½œåœ¨çš„è¾¹ç¼˜æƒ…å†µï¼ˆå¦‚å°† `=>` ä¸­çš„ `>` è§†ä¸ºç»“æŸåˆ†éš”ç¬¦ï¼‰

#### MiniQuotes å’Œ MiniBracketsï¼ˆmini.ai è¡Œä¸ºï¼‰

è¿™äº›æ–‡æœ¬å¯¹è±¡å®ç° [mini.ai](https://github.com/echasnovski/mini.nvim/blob/main/readmes/mini-ai.md) Neovim æ’ä»¶çš„è¡Œä¸ºï¼š

- **é€‰æ‹©ä¼˜å…ˆçº§**ï¼šé¦–å…ˆæœç´¢å½“å‰è¡Œï¼Œç„¶åå‘å¤–æ‰©å±•
- **Tree-sitter é›†æˆ**ï¼šä½¿ç”¨ Tree-sitter æŸ¥è¯¢è¿›è¡Œæ›´ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„é€‰æ‹©
- **è¯­æ³•æ„ŸçŸ¥åŒ¹é…**ï¼šå¯ä»¥åŒºåˆ†å®é™…æ‹¬å·å’Œå…¶ä»–ä¸Šä¸‹æ–‡ä¸­çš„ç±»ä¼¼å­—ç¬¦ï¼ˆå¦‚ `=>` ä¸­çš„ `>`ï¼‰

#### é€‰æ‹©æ–¹æ³•

- ä½¿ç”¨ **AnyQuotes/AnyBrackets** å¦‚æœä½ ï¼š

  - åå¥½ä¼ ç»Ÿ Vim è¡Œä¸º
  - æƒ³è¦ä¸€è‡´çš„åŸºäºå­—ç¬¦çš„é€‰æ‹©ï¼Œä¼˜å…ˆè€ƒè™‘æœ€å†…å±‚åˆ†éš”ç¬¦
  - éœ€è¦ä¸åŸå§‹ Vim çš„æ–‡æœ¬å¯¹è±¡å¯†åˆ‡åŒ¹é…çš„è¡Œä¸º

- ä½¿ç”¨ **MiniQuotes/MiniBrackets** å¦‚æœä½ ï¼š
  - åå¥½ mini.ai æ’ä»¶è¡Œä¸º
  - æƒ³è¦ä½¿ç”¨ Tree-sitter è¿›è¡Œæ›´ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„é€‰æ‹©
  - æœç´¢æ—¶åå¥½å½“å‰è¡Œä¼˜å…ˆçº§

#### ç¤ºä¾‹é…ç½®

è¦ä½¿ç”¨è¿™äº›æ–‡æœ¬å¯¹è±¡ï¼Œä½ éœ€è¦å‘é”®æ˜ å°„æ·»åŠ ç»‘å®šã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼Œåœ¨ä½¿ç”¨æ–‡æœ¬å¯¹è±¡æ“ä½œç¬¦ï¼ˆ`i` å’Œ `a`ï¼‰æˆ–æ›´æ”¹ç¯ç»•ï¼ˆ`cs`ï¼‰æ—¶ä½¿å®ƒä»¬å¯ç”¨ï¼š

```json [settings]
{
  "context": "vim_operator == a || vim_operator == i || vim_operator == cs",
  "bindings": {
    // ä¼ ç»Ÿ Vim è¡Œä¸º
    "q": "vim::AnyQuotes",
    "b": "vim::AnyBrackets",

    // mini.ai æ’ä»¶è¡Œä¸º
    "Q": "vim::MiniQuotes",
    "B": "vim::MiniBrackets"
  }
}
```

ä½¿ç”¨æ­¤é…ç½®ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

- `cib` - ä½¿ç”¨ AnyBrackets è¡Œä¸ºæ›´æ”¹æ‹¬å·å†…éƒ¨
- `ciB` - ä½¿ç”¨ MiniBrackets è¡Œä¸ºæ›´æ”¹æ‹¬å·å†…éƒ¨
- `ciq` - ä½¿ç”¨ AnyQuotes è¡Œä¸ºæ›´æ”¹å¼•å·å†…éƒ¨
- `ciQ` - ä½¿ç”¨ MiniQuotes è¡Œä¸ºæ›´æ”¹å¼•å·å†…éƒ¨

## å‘½ä»¤é¢æ¿

Vim æ¨¡å¼å…è®¸ä½ ç”¨ `:` æ‰“å¼€ Zed çš„å‘½ä»¤é¢æ¿ã€‚ç„¶åä½ å¯ä»¥è¾“å…¥ä»¥è®¿é—®ä»»ä½•å¸¸è§„çš„ Zed å‘½ä»¤ã€‚æ­¤å¤–ï¼Œvim æ¨¡å¼ä¸ºæµè¡Œçš„ Vim å‘½ä»¤æ·»åŠ äº†åˆ«åï¼Œä»¥ç¡®ä¿ä½ çš„è‚Œè‚‰è®°å¿†è½¬ç§»åˆ° Zedã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å†™ `:w` æˆ– `:write` æ¥ä¿å­˜æ–‡ä»¶ã€‚

ä¸‹é¢ï¼Œä½ å°†æ‰¾åˆ°å¯ä»¥åœ¨å‘½ä»¤é¢æ¿ä¸­ä½¿ç”¨çš„å‘½ä»¤è¡¨ã€‚æˆ‘ä»¬å°†å¯é€‰å­—ç¬¦æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼Œè¡¨ç¤ºä½ å¯ä»¥çœç•¥å®ƒä»¬ã€‚

> **æ³¨æ„**ï¼šæˆ‘ä»¬å°šæœªæ¨¡æ‹Ÿ Vim å‘½ä»¤è¡Œçš„å…¨éƒ¨åŠŸèƒ½ã€‚ç‰¹åˆ«æ˜¯ï¼Œå‘½ä»¤ç›®å‰ä¸æ”¯æŒå‚æ•°ã€‚å½“ä½ å‘ç°å‘½ä»¤é¢æ¿ä¸­ç¼ºå°‘å†…å®¹æ—¶ï¼Œè¯·[åœ¨ GitHub ä¸Šæäº¤é—®é¢˜](https://github.com/zed-industries/zed)ã€‚

### File and window management

This table shows commands for managing windows, tabs, and panes. As commands don't support arguments currently, you cannot specify a filename when saving or creating a new file.

| Command        | Description                                          |
| -------------- | ---------------------------------------------------- |
| `:w[rite][!]`  | Save the current file                                |
| `:wq[!]`       | Save the file and close the buffer                   |
| `:q[uit][!]`   | Close the buffer                                     |
| `:wa[ll][!]`   | Save all open files                                  |
| `:wqa[ll][!]`  | Save all open files and close all buffers            |
| `:qa[ll][!]`   | Close all buffers                                    |
| `:[e]x[it][!]` | Close the buffer                                     |
| `:up[date]`    | Save the current file                                |
| `:cq`          | Quit completely (close all running instances of Zed) |
| `:vs[plit]`    | Split the pane vertically                            |
| `:sp[lit]`     | Split the pane horizontally                          |
| `:new`         | Create a new file in a horizontal split              |
| `:vne[w]`      | Create a new file in a vertical split                |
| `:tabedit`     | Create a new file in a new tab                       |
| `:tabnew`      | Create a new file in a new tab                       |
| `:tabn[ext]`   | Go to the next tab                                   |
| `:tabp[rev]`   | Go to previous tab                                   |
| `:tabc[lose]`  | Close the current tab                                |
| `:ls`          | Show all buffers                                     |

> **Note:** The `!` character is used to force the command to execute without saving changes or prompting before overwriting a file.

### Ex commands

These ex commands open Zed's various panels and windows.

| Command                      | Default Shortcut |
| ---------------------------- | ---------------- |
| Open the project panel       | `:E[xplore]`     |
| Open the collaboration panel | `:C[ollab]`      |
| Open the chat panel          | `:Ch[at]`        |
| Open the AI panel            | `:A[I]`          |
| Open the git panel           | `:G[it]`         |
| Open the debug panel         | `:D[ebug]`       |
| Open the notifications panel | `:No[tif]`       |
| Open the feedback window     | `:fe[edback]`    |
| Open the diagnostics window  | `:cl[ist]`       |
| Open the terminal            | `:te[rm]`        |
| Open the extensions window   | `:Ext[ensions]`  |

### Navigating diagnostics

These commands navigate diagnostics.

| Command                  | Description                    |
| ------------------------ | ------------------------------ |
| `:cn[ext]` or `:ln[ext]` | Go to the next diagnostic      |
| `:cp[rev]` or `:lp[rev]` | Go to the previous diagnostics |
| `:cc` or `:ll`           | Open the errors page           |

### Git

These commands interact with the version control system git.

| Command         | Description                                             |
| --------------- | ------------------------------------------------------- |
| `:dif[fupdate]` | View the diff under the cursor (`d o` in normal mode)   |
| `:rev[ert]`     | Revert the diff under the cursor (`d p` in normal mode) |

### Jump

These commands jump to specific positions in the file.

| Command             | Description                         |
| ------------------- | ----------------------------------- |
| `:<number>`         | Jump to a line number               |
| `:$`                | Jump to the end of the file         |
| `:/foo` and `:?foo` | Jump to next/prev line matching foo |

### Replacement

This command replaces text. It emulates the substitute command in vim. The substitute command uses regular expressions, and Zed uses a slightly different syntax than vim. You can learn more about Zed's syntax below, [in the regex differences section](#regex-differences). Zed will replace only the first occurrence of the search pattern in the current line. To replace all matches append the `g` flag.

| Command                 | Description                       |
| ----------------------- | --------------------------------- |
| `:[range]s/foo/bar/[g]` | Replace instances of foo with bar |

### Editing

These commands help you edit text.

| Command           | Description                                             |
| ----------------- | ------------------------------------------------------- |
| `:j[oin]`         | Join the current line                                   |
| `:d[elete][l][p]` | Delete the current line                                 |
| `:s[ort] [i]`     | Sort the current selection (with i, case-insensitively) |
| `:y[ank]`         | Yank (copy) the current selection or line               |

### Set

These commands modify editor options locally for the current buffer.

| Command                         | Description                                                                                   |
| ------------------------------- | --------------------------------------------------------------------------------------------- |
| `:se[t] [no]wrap`               | Lines longer than the width of the window will wrap and displaying continues on the next line |
| `:se[t] [no]nu[mber]`           | Print the line number in front of each line                                                   |
| `:se[t] [no]r[elative]nu[mber]` | Changes the displayed number to be relative to the cursor                                     |
| `:se[t] [no]i[gnore]c[ase]`     | Controls whether the buffer and project search use case-sensitive matching                    |

### Command mnemonics

As any Zed command is available, you may find that it's helpful to remember mnemonics that run the correct command. For example:

- `:diffs` for "toggle all hunk diffs"
- `:cpp` for "copy path to file"
- `:crp` for "copy relative path"
- `:reveal` for "reveal in finder"
- `:zlog` for "open zed log"
- `:clank` for "cancel language server work"

## Customizing key bindings

In this section, we'll learn how to customize the key bindings of Zed's vim mode. You'll learn:

- How to select the correct context for your new key bindings.
- Useful contexts for vim mode key bindings.
- Common key bindings to customize for extra productivity.

### Selecting the correct context

Zed's key bindings are evaluated only when the `"context"` property matches your location in the editor. For example, if you add key bindings to the `"Editor"` context, they will only work when you're editing a file. If you add key bindings to the `"Workspace"` context, they will work everywhere in Zed. Here's an example of a key binding that saves when you're editing a file:

```json [settings]
{
  "context": "Editor",
  "bindings": {
    "ctrl-s": "file::Save"
  }
}
```

Contexts are nested, so when you're editing a file, the context is the `"Editor"` context, which is inside the `"Pane"` context, which is inside the `"Workspace"` context. That's why any key bindings you add to the `"Workspace"` context will work when you're editing a file. Here's an example:

```json [keymap]
// This key binding will work when you're editing a file. It comes built into Zed by default as the workspace: save command.
{
  "context": "Workspace",
  "bindings": {
    "ctrl-s": "workspace::Save"
  }
}
```

Contexts are expressions. They support boolean operators like `&&` (and) and `||` (or). For example, you can use the context `"Editor && vim_mode == normal"` to create key bindings that only work when you're editing a file _and_ you're in vim's normal mode.

Vim mode adds several contexts to the `"Editor"` context:

| Operator             | Description                                                                                                                                                                        |
| -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| VimControl           | Indicates that vim keybindings should work. Currently an alias for `vim_mode == normal \|\| vim_mode == visual \|\| vim_mode == operator`, but the definition may change over time |
| vim_mode == normal   | Normal mode                                                                                                                                                                        |
| vim_mode == visual   | Visual mode                                                                                                                                                                        |
| vim_mode == insert   | Insert mode                                                                                                                                                                        |
| vim_mode == replace  | Replace mode                                                                                                                                                                       |
| vim_mode == waiting  | Waiting for an arbitrary key (e.g., after typing `f` or `t`)                                                                                                                       |
| vim_mode == operator | Waiting for another binding to trigger (e.g., after typing `c` or `d`)                                                                                                             |
| vim_operator         | Set to `none` unless `vim_mode == operator`, in which case it is set to the current operator's default keybinding (e.g., after typing `d`, `vim_operator == d`)                    |

> **Note**: Contexts are matched only on one level at a time. So it is possible to use the expression `"Editor && vim_mode == normal"`, but `"Workspace && vim_mode == normal"` will never match because we set the vim context at the `"Editor"` level.

### Useful contexts for vim mode key bindings

Here's a template with useful vim mode contexts to help you customize your vim mode key bindings. You can copy it and integrate it into your user keymap.

```json [keymap]
[
  {
    "context": "VimControl && !menu",
    "bindings": {
      // Put key bindings here if you want them to work in normal & visual mode.
    }
  },
  {
    "context": "vim_mode == normal && !menu",
    "bindings": {
      // "shift-y": ["workspace::SendKeystrokes", "y $"] // Use neovim's yank behavior: yank to end of line.
    }
  },
  {
    "context": "vim_mode == insert",
    "bindings": {
      // "j k": "vim::NormalBefore" // In insert mode, make jk escape to normal mode.
    }
  },
  {
    "context": "EmptyPane || SharedScreen",
    "bindings": {
      // Put key bindings here (in addition to the context above) if you want them to
      // work when no editor exists.
      // "space f": "file_finder::Toggle"
    }
  }
]
```

> **Note**: If you would like to emulate Vim's `map` commands (`nmap`, etc.), you can use the action `workspace::SendKeystrokes` in the correct context.

### Optional key bindings

By default, you can navigate between the different files open in the editor with shortcuts like `ctrl+w` followed by one of `hjkl` to move to the left, down, up, or right, respectively.

But you cannot use the same shortcuts to move between all the editor docks (the terminal, project panel, assistant panel, ...). If you want to use the same shortcuts to navigate to the docks, you can add the following key bindings to your user keymap.

```json [settings]
{
  "context": "Dock",
  "bindings": {
    "ctrl-w h": "workspace::ActivatePaneLeft",
    "ctrl-w l": "workspace::ActivatePaneRight",
    "ctrl-w k": "workspace::ActivatePaneUp",
    "ctrl-w j": "workspace::ActivatePaneDown"
    // ... or other keybindings
  }
}
```

Subword motion, which allows you to navigate and select individual words in camelCase or snake_case, is not enabled by default. To enable it, add these bindings to your keymap.

```json [settings]
{
  "context": "VimControl && !menu && vim_mode != operator",
  "bindings": {
    "w": "vim::NextSubwordStart",
    "b": "vim::PreviousSubwordStart",
    "e": "vim::NextSubwordEnd",
    "g e": "vim::PreviousSubwordEnd"
  }
}
```

Vim mode comes with shortcuts to surround the selection in normal mode (`ys`), but it doesn't have a shortcut to add surrounds in visual mode. By default, `shift-s` substitutes the selection (erases the text and enters insert mode). To use `shift-s` to add surrounds in visual mode, you can add the following object to your keymap.

```json [settings]
{
  "context": "vim_mode == visual",
  "bindings": {
    "shift-s": "vim::PushAddSurrounds"
  }
}
```

In non-modal text editors, cursor navigation typically wraps when moving past line ends. Zed, however, handles this behavior exactly like Vim by default: the cursor stops at line boundaries. If you prefer your cursor to wrap between lines, override these keybindings:

```json [settings]
// In VimScript, this would look like this:
// set whichwrap+=<,>,[,],h,l
{
  "context": "VimControl && !menu",
  "bindings": {
    "left": "vim::WrappingLeft",
    "right": "vim::WrappingRight",
    "h": "vim::WrappingLeft",
    "l": "vim::WrappingRight"
  }
}
```

The [Sneak motion](https://github.com/justinmk/vim-sneak) feature allows for quick navigation to any two-character sequence in your text. You can enable it by adding the following keybindings to your keymap. By default, the `s` key is mapped to `vim::Substitute`. Adding these bindings will override that behavior, so ensure this change aligns with your workflow preferences.

```json [settings]
{
  "context": "vim_mode == normal || vim_mode == visual",
  "bindings": {
    "s": "vim::PushSneak",
    "shift-s": "vim::PushSneakBackward"
  }
}
```

The [vim-exchange](https://github.com/tommcdo/vim-exchange) feature does not have a default binding for visual mode, as the `shift-x` binding conflicts with the default `shift-x` binding for visual mode (`vim::VisualDeleteLine`). To assign the default vim-exchange binding, add the following keybinding to your keymap:

```json [settings]
{
  "context": "vim_mode == visual",
  "bindings": {
    "shift-x": "vim::Exchange"
  }
}
```

### Restoring common text editing and Zed keybindings

If you're using vim mode on Linux or Windows, you may find it overrides keybindings you can't live without: `ctrl+v` to paste, `ctrl+f` to search, etc. You can restore them by copying this data into your keymap:

```json [keymap]
{
  "context": "Editor && !menu",
  "bindings": {
    "ctrl-c": "editor::Copy",               // vim default: return to normal mode
    "ctrl-x": "editor::Cut",                // vim default: decrement
    "ctrl-v": "editor::Paste",              // vim default: visual block mode
    "ctrl-y": "editor::Undo",               // vim default: line up
    "ctrl-f": "buffer_search::Deploy",      // vim default: page down
    "ctrl-o": "workspace::Open",            // vim default: go back
    "ctrl-s": "workspace::Save",            // vim default: show signature
    "ctrl-a": "editor::SelectAll",          // vim default: increment
    "ctrl-b": "workspace::ToggleLeftDock"   // vim default: down
  }
},
```

## Changing vim mode settings

You can change the following settings to modify vim mode's behavior:

| Property                     | Description                                                                                                                                                                                   | Default Value |
| ---------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- |
| default_mode                 | The default mode to start in. One of "normal", "insert", "replace", "visual", "visual_line", "visual_block", "helix_normal".                                                                  | "normal"      |
| use_system_clipboard         | Determines how system clipboard is used:<br><ul><li>"always": use for all operations</li><li>"never": only use when explicitly specified</li><li>"on_yank": use for yank operations</li></ul> | "always"      |
| use_multiline_find           | deprecated                                                                                                                                                                                    |
| use_smartcase_find           | If `true`, `f` and `t` motions are case-insensitive when the target letter is lowercase.                                                                                                      | false         |
| toggle_relative_line_numbers | If `true`, line numbers are relative in normal mode and absolute in insert mode, giving you the best of both options.                                                                         | false         |
| custom_digraphs              | An object that allows you to add custom digraphs. Read below for an example.                                                                                                                  | {}            |
| highlight_on_yank_duration   | The duration of the highlight animation(in ms). Set to `0` to disable                                                                                                                         | 200           |

Here's an example of adding a digraph for the zombie emoji. This allows you to type `ctrl-k f z` to insert a zombie emoji. You can add as many digraphs as you like.

```json [settings]
{
  "vim": {
    "custom_digraphs": {
      "fz": "ğŸ§Ÿâ€â™€ï¸"
    }
  }
}
```

Here's an example of these settings changed:

```json [settings]
{
  "vim": {
    "default_mode": "insert",
    "use_system_clipboard": "never",
    "use_smartcase_find": true,
    "toggle_relative_line_numbers": true,
    "highlight_on_yank_duration": 50,
    "custom_digraphs": {
      "fz": "ğŸ§Ÿâ€â™€ï¸"
    }
  }
}
```

## Useful core Zed settings for vim mode

Here are a few general Zed settings that can help you fine-tune your Vim experience:

| Property                | Description                                                                                                                                                   | Default Value        |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------- |
| cursor_blink            | If `true`, the cursor blinks.                                                                                                                                 | `true`               |
| relative_line_numbers   | If `true`, line numbers in the left gutter are relative to the cursor.                                                                                        | `false`              |
| scrollbar               | Object that controls the scrollbar display. Set to `{ "show": "never" }` to hide the scroll bar.                                                              | `{ "show": "auto" }` |
| scroll_beyond_last_line | If set to `"one_page"`, allows scrolling up to one page beyond the last line. Set to `"off"` to prevent this behavior.                                        | `"one_page"`         |
| vertical_scroll_margin  | The number of lines to keep above or below the cursor when scrolling. Set to `0` to allow the cursor to go up to the edges of the screen vertically.          | `3`                  |
| gutter.line_numbers     | Controls the display of line numbers in the gutter. Set the `"line_numbers"` property to `false` to hide line numbers.                                        | `true`               |
| command_aliases         | Object that defines aliases for commands in the command palette. You can use it to define shortcut names for commands you use often. Read below for examples. | `{}`                 |

Here's an example of these settings changed:

```json [settings]
{
  // Disable cursor blink
  "cursor_blink": false,
  // Use relative line numbers
  "relative_line_numbers": true,
  // Hide the scroll bar
  "scrollbar": { "show": "never" },
  // Prevent the buffer from scrolling beyond the last line
  "scroll_beyond_last_line": "off",
  // Allow the cursor to reach the edges of the screen
  "vertical_scroll_margin": 0,
  "gutter": {
    // Disable line numbers completely:
    "line_numbers": false
  },
  "command_aliases": {
    "W": "w",
    "Wq": "wq",
    "Q": "q"
  }
}
```

The `command_aliases` property is a single object that maps keys or key sequences to vim mode commands. The example above defines multiple aliases: `W` for `w`, `Wq` for `wq`, and `Q` for `q`.

## Regex differences

Zed uses a different regular expression engine from Vim. This means that you will have to use a different syntax in some cases. Here are the most common differences:

- **Capture groups**: Vim uses `\(` and `\)` to represent capture groups, in Zed these are `(` and `)`. On the flip side, in Vim, `(` and `)` represent literal parentheses, but in Zed these must be escaped to `\(` and `\)`.
- **Matches**: When replacing, Vim uses the backslash character followed by a number to represent a matched capture group. For example, `\1`. Zed uses the dollar sign instead. So, when in Vim you use `\0` to represent the entire match, in Zed the syntax is `$0` instead. Same for numbered capture groups: `\1` in Vim is `$1` in Zed.
- **Global option**: By default, in Vim, regex searches only match the first occurrence on a line, and you append `/g` at the end of your query to find all matches. In Zed, regex searches are global by default.
- **Case sensitivity**: Vim uses `/i` to indicate a case-insensitive search. In Zed you can either write `(?i)` at the start of the pattern or toggle case-sensitivity with the shortcut {#kb search::ToggleCaseSensitive}.

> **Note**: To help with the transition, the command palette will fix parentheses and replace groups for you when you write a Vim-style substitute command, `:%s//`. So, Zed will convert `%s:/\(a\)(b)/\1/` into a search for "(a)\(b\)" and a replacement of "$1".

For the full syntax supported by Zed's regex engine [see the regex crate documentation](https://docs.rs/regex/latest/regex/#syntax).
